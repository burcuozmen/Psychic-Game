<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>The Psychic Game</title>
</head>

<body>

  <!-- The title of the page -->
  <h1>The Psychic Game</h1>

  <p>Guess what letter I'm thinking of</p>

  <!-- placeholder to dump buttons in -->
  <p id="buttons"></p>

  <!-- This is where we will have the win counter in HTML. It initially shows 0  -->
  <p>Wins: <span id="wins">0</span></p>

  <!-- This is where we will have the loss counter in HTML. It initially shows 0 -->
  <p>Losses: <span id="losses">0</span></p>

  <!-- This is where we will post the guessesLeft. Initially nothing is shown. -->
  <p>Guesses Left: <span id="guesses-left"></span></p>

  <!-- This is where we will post the guessesSoFar. Initially nothing is shown. -->
  <p>Your Guesses so far: <span id="guesses-so-far"></span></p>

  <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

  <script>
    // game vars
    var letters = "abcdefghijklmnopqrstuvwxyz";
    var letterToGuess = letters[Math.floor(Math.random() * letters.length)];
    var guessedLetters = [];
    var guessesLeft = 9;
    var wins = 0;
    var losses = 0;

    function reset() {
      // reset game logic
      guessesLeft = 9;
      guessedLetters = [];
      letterToGuess = letters[Math.floor(Math.random() * letters.length)];

      // empty divs
      $("#guesses-left").text(guessesLeft);
      $("#guesses-so-far").empty();
    }

    for (var i = 0; i < letters.length; i++) {
      // create button for every letter in array
      var button = $("<button>").addClass("btn").text(letters[i]).attr("data-letter", letters[i]);

      $("#buttons").append(button);
    }

    // click event for all buttons
    $(".btn").on("click", function() {
      // get current letter from button
      var letter = $(this).attr("data-letter");

      // reduce guess count and show to user
      guessesLeft--;
      $("#guesses-left").text(guessesLeft);

      // add the guess to the guessedLetters array
      guessedLetters.push(letter);
      $("#guesses-so-far").text(guessedLetters.join(", "));

      // check if there's a match.
      if (letter === letterToGuess) {

        // display win total
        wins++;
        $("#wins").html(wins);

        reset();
      }
      // game over
      else if (guessesLeft === 0) {

        // display loss total
        losses++;
        $("#losses").html(losses);
       
        reset();
      }
    });
  </script>

</body>

</html>
